
/*!
 * Time Input Polyfill
 * @version: 1.0.1
 * @author: Daniel Tonon
 * @license MIT: https://github.com/Dan503/time-input-polyfill/blob/master/LICENSE
 * Copyright (c) 2018 Daniel Tonon. All rights reserved.
 **/
!function(){function e(t,r,n){function s(o,i){if(!r[o]){if(!t[o]){var c="function"==typeof require&&require;if(!i&&c)return c(o,!0);if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var _=r[o]={exports:{}};t[o][0].call(_.exports,function(e){var r=t[o][1][e];return s(r||e)},_,_.exports,e,t,r,n)}return r[o].exports}for(var a="function"==typeof require&&require,o=0;o<n.length;o++)s(n[o]);return s}return e}()({1:[function(e,t,r){t.exports=function(){var e=document.createElement("div");return e.setAttribute("aria-live","assertive"),e.setAttribute("style","position: absolute; opacity: 0; height: 0; width: 0; overflow: hidden; pointer-events: none;"),e.classList.add("time-input-polyfill-accessibility-block"),document.querySelector("body").appendChild(e),e}},{}],2:[function(e,t,r){var n=e("../getters/get_current_segment"),s=e("../getters/get_values");t.exports=function(e,t){setTimeout(function(){var r=n(e),a=s(e),o=a[r],i="--"==o?"blank":o,c={hrs:"Hours",min:"Minutes",mode:"AM/PM"}[r],u={initial:"$label grouping $fullValue.",select:"$segmentName spin button $segmentValue.",update:"$segmentValue."},_=t.map(function(e){return u[e]?u[e]:e}),l=e.value.replace(/--/g,"blank"),v="<p>"+_.join("</p><p>")+"</p>";v=v.replace(/\$label/g,e.polyfill.label),v=v.replace(/\$segmentName/g,c),v=v.replace(/\$segmentValue/g,i),v=v.replace(/\$fullValue/g,l),e.polyfill.$a11y.innerHTML=v},1)}},{"../getters/get_current_segment":14,"../getters/get_values":17}],3:[function(e,t,r){t.exports=function(e){return e<=12?0===e?12:e:e-12}},{}],4:[function(e,t,r){t.exports=function(e){return isNaN(e)?e:parseInt(e)}},{}],5:[function(e,t,r){var n=e("./convert_number"),s=e("./convert_hours_to_12hr_time"),a=e("./leading_zero");t.exports=function(e){if(""===e)return"--:-- --";var t=/([0-9]{2})\:([0-9]{2})/,r=t.exec(e),o=n(r[1]),i=r[2],c=s(o),u=o>12,_=u?"PM":"AM";return[a(c),":",i," ",_].join("")}},{"./convert_hours_to_12hr_time":3,"./convert_number":4,"./leading_zero":7}],6:[function(e,t,r){var n=e("./leading_zero");t.exports=function(e){if(/-/.test(e))return"";var t,r=e.indexOf("PM")>-1,s=/^([0-9]{2})/.exec(e),a=s?parseInt(s[1]):"";t=12===a?r?12:0:r?a+12:a;var o=24===t?0:t,i=/^[0-9]{2}:([0-9]{2}) (AM|PM)/;return e.replace(i,n(o)+":$1")}},{"./leading_zero":7}],7:[function(e,t,r){t.exports=function(e){if(isNaN(e))return e;var t=parseInt(e);return t<10?"0"+t:e}},{}],8:[function(e,t,r){function n(e){e.polyfill.autoSwap&&(p(e,24),setTimeout(function(){p(e,12)},1))}var s=e("../helpers/values"),a=e("../selectors/select_segment"),o=e("../selectors/next_segment"),i=e("../selectors/prev_segment"),c=e("../selectors/select_cursor_segment"),u=e("../getters/get_current_segment"),_=e("../setters/reset"),l=e("../setters/manual_number_entry"),v=e("../setters/clear_segment"),f=e("../setters/increment_current_segment"),g=e("../setters/decrement_current_segment"),m=e("../setters/set_mode"),p=e("../setters/switch_times"),d=e("../events/handle_tab"),h=e("../static-values/all_number_keys"),b=e("../static-values/named_keys"),x=e("../accessibility/update_a11y");t.exports=function(e){var t="",r=!1;document.addEventListener("keydown",function(e){r=e.shiftKey}),document.addEventListener("keyup",function(e){r=e.shiftKey}),e.form&&e.form.addEventListener("submit",function(){n(e)});var p=!1;e.addEventListener("mousedown",function(){p=!0}),e.addEventListener("mouseup",function(){setTimeout(function(){""===e.value&&_(e)},1)}),e.addEventListener("click",function(t){c(e)}),e.addEventListener("blur",function(){var r=e.dataset.value;r!==t&&(t=r),p=!1}),e.addEventListener("focus",function(t){if(!p){t.preventDefault();var n=r?"mode":"hrs";a(e,n)}x(e,["initial","select"])}),e.addEventListener("keydown",function(t){var r=13===t.which;if(r)return!0;var n=h.indexOf(t.which)>-1,a=s(b).indexOf(t.which)>-1,c=[b.ArrowDown,b.ArrowRight,b.ArrowUp,b.ArrowLeft].indexOf(t.which)>-1,p=[b.a,b.p].indexOf(t.which)>-1,x=[b.Delete,b.Backspace].indexOf(t.which)>-1;if((!a||c||n||p||x)&&t.preventDefault(),n&&l(e,t.which),x){var y=u(e);v(e,y)}switch(t.which){case b.ArrowRight:o(e);break;case b.ArrowLeft:i(e);break;case b.ArrowUp:f(e);break;case b.ArrowDown:g(e);break;case b.Escape:_(e);break;case b.a:m(e,"AM");break;case b.p:m(e,"PM");break;case b.Tab:d(e,t)}})}},{"../accessibility/update_a11y":2,"../events/handle_tab":10,"../getters/get_current_segment":14,"../helpers/values":20,"../selectors/next_segment":21,"../selectors/prev_segment":22,"../selectors/select_cursor_segment":23,"../selectors/select_segment":24,"../setters/clear_segment":27,"../setters/decrement_current_segment":29,"../setters/increment_current_segment":31,"../setters/manual_number_entry":32,"../setters/reset":34,"../setters/set_mode":36,"../setters/switch_times":40,"../static-values/all_number_keys":43,"../static-values/named_keys":44}],9:[function(e,t,r){t.exports=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}},{}],10:[function(e,t,r){var n=e("../getters/get_current_segment"),s=e("../selectors/prev_segment"),a=e("../selectors/next_segment");t.exports=function(e,t){var r=n(e),o=t.shiftKey&&"hrs"===r,i=!t.shiftKey&&"mode"===r;o||i||(t.preventDefault(),t.shiftKey?s(e):a(e))}},{"../getters/get_current_segment":14,"../selectors/next_segment":21,"../selectors/prev_segment":22}],11:[function(e,t,r){var n=e("./trigger_event");t.exports=function(e){n(e,"input"),n(e,"change")}},{"./trigger_event":12}],12:[function(e,t,r){function n(e){return!/--/.test(e.value)}var s=e("./create_event"),a=s("input"),o=s("change");t.exports=function(e,t){var r={input:a,change:o}[t];n(e)&&e.dispatchEvent(r)}},{"./create_event":9}],13:[function(e,t,r){t.exports=function(e){for(var t=e,r=[];t;)r.push(t),t=t.parentNode;return r}},{}],14:[function(e,t,r){var n=e("../static-values/ranges"),s=e("./get_selected_range");t.exports=function(e){var t=s(e);for(var r in n){var a=n[r],o=a.start<=t.start,i=a.end>=t.end;if(o&&i)return r}return"hrs"}},{"../static-values/ranges":45,"./get_selected_range":16}],15:[function(e,t,r){var n=e("./get_ancestors");t.exports=function(e){var t=document.querySelector('label[for="'+e.id+'"]');if(t)return t;var r=n(e),s=r.filter(function(e){return"LABEL"===e.nodeName})[0];return s}},{"./get_ancestors":13}],16:[function(e,t,r){t.exports=function(e){return{start:e.selectionStart,end:e.selectionEnd}}},{}],17:[function(e,t,r){var n=e("../converters/convert_number");t.exports=function(e,t){var r=t?t:e.value,s=/([0-9-]{1,2})\:([0-9-]{1,2})\s?(AM|PM|\-\-)?/,a=s.exec(r);return{hrs:n(a[1]),min:n(a[2]),mode:a[3]}}},{"../converters/convert_number":4}],18:[function(e,t,r){function n(){o=[]}function s(e){o.push(e)}function a(){return o}var o=[];t.exports={items:a,clear:n,add:s}},{}],19:[function(e,t,r){t.exports=function(e){e.style.msUserSelect="none",e.style.mozUserSelect="none",e.style.webkitUserSelect="none",e.style.userSelect="none"}},{}],20:[function(e,t,r){t.exports=function(e){var t=[];for(var r in e)t.push(e[r]);return t}},{}],21:[function(e,t,r){var n=e("./traverse");t.exports=function(e){n(e,"next")}},{"./traverse":25}],22:[function(e,t,r){var n=e("./traverse");t.exports=function(e){n(e,"prev")}},{"./traverse":25}],23:[function(e,t,r){var n=e("../getters/get_current_segment"),s=e("./select_segment");t.exports=function(e){var t=n(e);s(e,t)}},{"../getters/get_current_segment":14,"./select_segment":24}],24:[function(e,t,r){t.exports=function(e,t){function r(){var r="mode"===t?"text":"tel";e.setAttribute("type",r)}function n(t,r){return function(){e.setSelectionRange(t,r)}}r();var s={hrs:n(0,2),min:n(3,5),mode:n(6,8)};s[t](e)}},{}],25:[function(e,t,r){var n=e("../getters/get_current_segment"),s=e("../selectors/select_segment"),a=e("../helpers/manual_entry_log"),o=e("../static-values/segments"),i=e("../accessibility/update_a11y");t.exports=function(e,t){var r=n(e),c="next"===t?1:-1,u=o.indexOf(r)+c,_={next:o[u]||"mode",prev:u<0?"hrs":o[u]}[t];s(e,_),a.clear(),i(e,["select"])}},{"../accessibility/update_a11y":2,"../getters/get_current_segment":14,"../helpers/manual_entry_log":18,"../selectors/select_segment":24,"../static-values/segments":46}],26:[function(e,t,r){var n=e("../setters/set_data_attribute"),s=e("../events/trigger_both_events");t.exports=function(e){e.value="--:-- --",n(e,""),s(e)}},{"../events/trigger_both_events":11,"../setters/set_data_attribute":35}],27:[function(e,t,r){var n=e("./set_segment"),s=e("../accessibility/update_a11y");t.exports=function(e,t){n(e,t,"--"),s(e,["update"])}},{"../accessibility/update_a11y":2,"./set_segment":37}],28:[function(e,t,r){var n=e("./switch_mode"),s=e("./nudge_time_segment"),a=e("../accessibility/update_a11y");t.exports=function(e,t){"mode"===t?n(e,"PM"):s(e,t,"down"),a(e,["update"])}},{"../accessibility/update_a11y":2,"./nudge_time_segment":33,"./switch_mode":39}],29:[function(e,t,r){var n=e("../getters/get_current_segment"),s=e("../setters/decrement");t.exports=function(e){var t=n(e);s(e,t)}},{"../getters/get_current_segment":14,"../setters/decrement":28}],30:[function(e,t,r){var n=e("./switch_mode"),s=e("./nudge_time_segment"),a=e("../accessibility/update_a11y");t.exports=function(e,t){"mode"===t?n(e,"AM"):s(e,t,"up"),a(e,["update"])}},{"../accessibility/update_a11y":2,"./nudge_time_segment":33,"./switch_mode":39}],31:[function(e,t,r){var n=e("../getters/get_current_segment"),s=e("../setters/increment");t.exports=function(e){var t=n(e);s(e,t)}},{"../getters/get_current_segment":14,"../setters/increment":30}],32:[function(e,t,r){var n=e("../getters/get_current_segment"),s=e("./set_segment"),a=e("../selectors/next_segment"),o=e("../helpers/manual_entry_log"),i=e("../static-values/sorted_number_keys");t.exports=function(e,t){var r=i[t],c=n(e);if("mode"!==c){var u=o.items().length,_={hrs:[1,2],min:[5,9]},l=_[c][u];u<2&&o.add(r);var v=parseInt(_[c].join("")),f=parseInt(o.items().join(""));v>=f&&s(e,c,f);var g=r>l||2===o.items().length;g&&a(e)}}},{"../getters/get_current_segment":14,"../helpers/manual_entry_log":18,"../selectors/next_segment":21,"../static-values/sorted_number_keys":47,"./set_segment":37}],33:[function(e,t,r){var n=e("../getters/get_values"),s=e("../converters/convert_hours_to_12hr_time"),a=e("../converters/leading_zero"),o=e("./set_segment");t.exports=function(e,t,r){var i,c=n(e),u="up"===r?1:-1;if("--"===c[t]){var _=new Date;i={hrs:s(_.getHours()),min:_.getMinutes()}}else{var l={up:c.min<59?c.min+u:0,down:0===c.min?59:c.min+u};i={hrs:s(c.hrs+u),min:l[r]}}o(e,t,a(i[t]))}},{"../converters/convert_hours_to_12hr_time":3,"../converters/leading_zero":7,"../getters/get_values":17,"./set_segment":37}],34:[function(e,t,r){var n=e("./apply_default"),s=e("../selectors/select_segment");t.exports=function(e){n(e),s(e,"hrs")}},{"../selectors/select_segment":24,"./apply_default":26}],35:[function(e,t,r){var n=e("../converters/convert_to_24hr_time");t.exports=function(e,t){var r=t.indexOf("-")>-1?"":t,s=n(r);e.setAttribute("data-value",s)}},{"../converters/convert_to_24hr_time":6}],36:[function(e,t,r){var n=e("../getters/get_current_segment"),s=e("./set_segment");t.exports=function(e,t){var r=n(e);"mode"===r&&s(e,r,t)}},{"../getters/get_current_segment":14,"./set_segment":37}],37:[function(e,t,r){var n=e("../getters/get_values"),s=e("../converters/leading_zero"),a=e("../selectors/select_segment"),o=e("./set_data_attribute"),i=e("../events/trigger_both_events");t.exports=function(e,t,r){var c=n(e);c[t]=r;var u=[s(c.hrs),":",s(c.min)," ",c.mode].join("");e.value=u,a(e,t),o(e,u),i(e)}},{"../converters/leading_zero":7,"../events/trigger_both_events":11,"../getters/get_values":17,"../selectors/select_segment":24,"./set_data_attribute":35}],38:[function(e,t,r){var n=e("../converters/convert_to_12hr_time"),s=e("../setters/set_data_attribute");t.exports=function(e,t){var r=n(t);e.value=r,s(e,t)}},{"../converters/convert_to_12hr_time":5,"../setters/set_data_attribute":35}],39:[function(e,t,r){var n=e("../getters/get_values"),s=e("./set_segment");t.exports=function(e,t){t=t||"AM";var r=n(e).mode,a={"--":t,AM:"PM",PM:"AM"}[r];s(e,"mode",a)}},{"../getters/get_values":17,"./set_segment":37}],40:[function(e,t,r){var n=e("./switch_to_data_value"),s=e("./set_time");t.exports=function(e,t){var r=/\s/.test(e.value);12!=t&&24!=t&&(t=r?24:12);var a={12:function(){r||s(e,e.dataset.value)},24:function(){r&&n(e)}};a[t]()}},{"./set_time":38,"./switch_to_data_value":41}],41:[function(e,t,r){t.exports=function(e){var t=e.dataset.value;e.value=t}},{}],42:[function(e,t,r){var n=e("../setters/set_time");t.exports=function(e){return n(e,e.value),e}},{"../setters/set_time":38}],43:[function(e,t,r){var n=[48,49,50,51,52,53,54,55,56,57,96,97,98,99,100,101,102,103,104,105];t.exports=n},{}],44:[function(e,t,r){var n={ArrowDown:40,ArrowRight:39,ArrowUp:38,ArrowLeft:37,Backspace:8,Delete:46,Tab:9,Shift:16,Escape:27,a:65,p:80};t.exports=n},{}],45:[function(e,t,r){var n={hrs:{start:0,end:2},min:{start:3,end:5},mode:{start:6,end:8}};t.exports=n},{}],46:[function(e,t,r){var n=e("./ranges"),s=Object.keys(n);t.exports=s},{"./ranges":45}],47:[function(e,t,r){var n=e("./all_number_keys"),s={};n.forEach(function(e,t){var r=t>9?t-10:t;s[e]=r}),t.exports=s},{"./all_number_keys":43}],48:[function(e,t,r){function n(e){e.setAttribute("autocomplete","off"),a(e),e.setAttribute("aria-hidden",!0),f||(s=v(),f=!0);var t=l(e).textContent;e.polyfill={$a11y:s,label:t,autoSwap:!0,update:function(){i(e)},swap:function(t){_(e,t)}},""===e.value||/--/.test(e.value)?(o(e),c(e,"")):(i(e),c(e,e.value)),u(e)}var s,a=e("./core/helpers/prevent_user_select"),o=e("./core/setters/apply_default"),i=e("./core/setters/update_time"),c=e("./core/setters/set_data_attribute"),u=e("./core/events/bind_events"),_=e("./core/setters/switch_times"),l=e("./core/getters/get_label"),v=e("./core/accessibility/create_a11y_block"),f=!1;window&&(window.TimePolyfill=n),t&&(t.exports=n)},{"./core/accessibility/create_a11y_block":1,"./core/events/bind_events":8,"./core/getters/get_label":15,"./core/helpers/prevent_user_select":19,"./core/setters/apply_default":26,"./core/setters/set_data_attribute":35,"./core/setters/switch_times":40,"./core/setters/update_time":42}]},{},[48]);
//# sourceMappingURL=time-input-polyfill.min.js.map
