{"version":3,"sources":["node_modules/browser-pack/_prelude.js","core/accessibility/create_a11y_block.js","index.js","core/accessibility/update_a11y.js","core/converters/convert_hours_to_12hr_time.js","core/converters/convert_number.js","core/converters/convert_to_12hr_time.js","core/converters/convert_to_24hr_time.js","core/converters/leading_zero.js","core/events/bind_events.js","core/events/create_event.js","core/events/handle_tab.js","core/events/trigger_both_events.js","core/events/trigger_event.js","core/getters/get_ancestors.js","core/getters/get_current_segment.js","core/getters/get_label.js","core/getters/get_selected_range.js","core/getters/get_values.js","core/helpers/manual_entry_log.js","core/helpers/values.js","core/selectors/next_segment.js","core/selectors/prev_segment.js","core/selectors/select_cursor_segment.js","core/selectors/select_segment.js","core/selectors/traverse.js","core/setters/apply_default.js","core/setters/clear_segment.js","core/setters/decrement.js","core/setters/decrement_current_segment.js","core/setters/increment.js","core/setters/increment_current_segment.js","core/setters/manual_number_entry.js","core/setters/nudge_time_segment.js","core/setters/reset.js","core/setters/set_data_attribute.js","core/setters/set_mode.js","core/setters/set_segment.js","core/setters/set_time.js","core/setters/switch_mode.js","core/setters/switch_times.js","core/setters/switch_to_data_value.js","core/setters/update_time.js","core/static-values/all_number_keys.js","core/static-values/named_keys.js","core/static-values/ranges.js","core/static-values/segments.js","core/static-values/sorted_number_keys.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","$block","document","createElement","setAttribute","classList","add","querySelector","appendChild","2","get_current_segment","get_values","$input","announcementArray","setTimeout","current_segment","value","finalValue","segmentName","hrs","min","mode","announcements","initial","select","update","textArray","map","providedString","fullValue","replace","html","join","polyfill","label","$a11y","innerHTML","../getters/get_current_segment","../getters/get_values","3","hours","4","number","isNaN","parseInt","5","convert_number","convert_hours_to_12hr_time","leading_zero","timeString_24hr","result","exec","hrs_24","hrs_12","./convert_hours_to_12hr_time","./convert_number","./leading_zero","6","timeString_12hr","test","newHrs","isPM","indexOf","timeResult","finalHrs","7","purified","8","values","select_segment","next_segment","prev_segment","select_cursor_segment","reset","manual_number_entry","clear_segment","increment_current_segment","decrement_current_segment","set_mode","switch_times","handle_tab","all_number_keys","named_keys","update_a11y","prev_value","shiftKey","addEventListener","form","autoSwap","auto_swap","focused_via_click","current_value","dataset","preventDefault","which","is_number_key","is_named_key","is_arrow_key","ArrowDown","ArrowRight","ArrowUp","ArrowLeft","is_mode_key","is_delete_key","Delete","Backspace","segment","Escape","Tab","../accessibility/update_a11y","../events/handle_tab","../helpers/values","../selectors/next_segment","../selectors/prev_segment","../selectors/select_cursor_segment","../selectors/select_segment","../setters/clear_segment","../setters/decrement_current_segment","../setters/increment_current_segment","../setters/manual_number_entry","../setters/reset","../setters/set_mode","../setters/switch_times","../static-values/all_number_keys","../static-values/named_keys","9","eventName","event","createEvent","initEvent","10","backwards_and_first","forwards_and_last","11","trigger_event","./trigger_event","12","create_event","inputEvent","changeEvent","input","change","can_trigger_change","dispatchEvent","./create_event","13","selectorString","$elem","ancestors","push","msMatchesSelector","matches","parentElement","14","ranges","get_selected_range","selection","range","aboveMin","start","belowMax","end","../static-values/ranges","./get_selected_range","15","get_ancestors","labelText","ariaLabelByID","getAttribute","$ariaLabelBy","getElementById","textContent","aria_labelledby","ariaLabel","aria_label","id","$forLabel","for_attribute","$parentLabel","nodeName","label_wrapper_element","titleLabel","title_attribute","console","error","./get_ancestors","16","selectionStart","selectionEnd","17","timeString","../converters/convert_number","18","manual_entry_log","items","clear","entry","19","obj","key_values","key","20","traverse","./traverse","21","22","./select_segment","23","type","setSelectionRange","24","segments","direction","modifier","next_segment_index","next","prev","../helpers/manual_entry_log","../static-values/segments","25","set_data_attribute","trigger_both_events","../events/trigger_both_events","../setters/set_data_attribute","26","set_segment","./set_segment","27","switch_mode","nudge_time_segment","./nudge_time_segment","./switch_mode","28","decrement","../setters/decrement","29","30","increment","../setters/increment","31","sorted_number_keys","key_value","entry_count","upper_limits","limit","full_limit","full_entry","../static-values/sorted_number_keys","32","time","current_values","current_time","Date","getHours","getMinutes","minutes","up","down","../converters/convert_hours_to_12hr_time","../converters/leading_zero","33","apply_default","./apply_default","34","convert_to_24hr_time","filteredString","time24hr","../converters/convert_to_24hr_time","35","36","newInputVal","./set_data_attribute","37","convert_to_12hr_time","time_string_24hr","twelveHr","../converters/convert_to_12hr_time","38","default_mode","current_mode","--","AM","PM","39","switch_to_data_value","set_time","format","is12hr","./set_time","./switch_to_data_value","40","replacementVal","41","../setters/set_time","42","43","Shift","44","45","Object","keys","./ranges","46","forEach","index","number_val","./all_number_keys","47","update_time","bind_events","get_label","create_a11y_block","accessibility_block_created","TimePolyfill","swap","forcedFormat","window","./core/accessibility/create_a11y_block","./core/events/bind_events","./core/getters/get_label","./core/setters/apply_default","./core/setters/set_data_attribute","./core/setters/switch_times","./core/setters/update_time"],"mappings":"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","file":"time-input-polyfill.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","module.exports = function create_accessibility_block() {\n\tvar $block = document.createElement('div')\n\t$block.setAttribute('aria-live', 'assertive')\n\t$block.setAttribute(\n\t\t'style',\n\t\t'position: absolute; opacity: 0; height: 0; width: 0; overflow: hidden; pointer-events: none;',\n\t)\n\t$block.classList.add('time-input-polyfill-accessibility-block')\n\tdocument.querySelector('body').appendChild($block)\n\treturn $block\n}\n","var apply_default = require('./core/setters/apply_default')\nvar update_time = require('./core/setters/update_time')\nvar set_data_attribute = require('./core/setters/set_data_attribute')\nvar bind_events = require('./core/events/bind_events')\nvar switch_times = require('./core/setters/switch_times')\nvar get_label = require('./core/getters/get_label')\n\nvar create_a11y_block = require('./core/accessibility/create_a11y_block')\n\nvar accessibility_block_created = false\nvar $a11y\n\nfunction TimePolyfill($input) {\n\t$input.setAttribute('autocomplete', 'off')\n\n\t// Prevent screen reader from announcing the default stuff\n\t$input.setAttribute('aria-hidden', true)\n\n\tif (!accessibility_block_created) {\n\t\t$a11y = create_a11y_block()\n\t\taccessibility_block_created = true\n\t}\n\n\tvar label = get_label($input)\n\n\t$input.polyfill = {\n\t\t$a11y: $a11y,\n\t\tlabel: label,\n\t\tautoSwap: true,\n\t\tupdate: function() {\n\t\t\tupdate_time($input)\n\t\t},\n\t\tswap: function(forcedFormat) {\n\t\t\tswitch_times($input, forcedFormat)\n\t\t},\n\t}\n\n\tif ($input.value === '' || /--/.test($input.value)) {\n\t\tapply_default($input)\n\t\tset_data_attribute($input, '')\n\t} else {\n\t\tupdate_time($input)\n\t\tset_data_attribute($input, $input.value)\n\t}\n\n\tbind_events($input)\n}\n\nif (window) window.TimePolyfill = TimePolyfill\nif (module) module.exports = TimePolyfill\n","var get_current_segment = require('../getters/get_current_segment')\nvar get_values = require('../getters/get_values')\n\nmodule.exports = function update_a11y($input, announcementArray) {\n\t// Timeout helps ensure that the input has stabilized\n\tsetTimeout(function() {\n\t\tvar current_segment = get_current_segment($input)\n\t\tvar values = get_values($input)\n\t\tvar value = values[current_segment]\n\t\tvar finalValue = value == '--' ? 'blank' : value\n\n\t\tvar segmentName = {\n\t\t\thrs: 'Hours',\n\t\t\tmin: 'Minutes',\n\t\t\tmode: 'AM/PM',\n\t\t}[current_segment]\n\n\t\tvar announcements = {\n\t\t\tinitial: '$label grouping $fullValue.',\n\t\t\tselect: '$segmentName spin button $segmentValue.',\n\t\t\tupdate: '$segmentValue.',\n\t\t}\n\n\t\tvar textArray = announcementArray.map(function(providedString) {\n\t\t\tif (announcements[providedString]) {\n\t\t\t\treturn announcements[providedString]\n\t\t\t}\n\t\t\treturn providedString\n\t\t})\n\n\t\tvar fullValue = $input.value.replace(/--/g, 'blank')\n\n\t\tvar html = '<p>' + textArray.join('</p><p>') + '</p>'\n\t\thtml = html.replace(/\\$label/g, $input.polyfill.label)\n\t\thtml = html.replace(/\\$segmentName/g, segmentName)\n\t\thtml = html.replace(/\\$segmentValue/g, finalValue)\n\t\thtml = html.replace(/\\$fullValue/g, fullValue)\n\n\t\t$input.polyfill.$a11y.innerHTML = html\n\t}, 1)\n}\n","module.exports = function convert_hours_to_12hr_time(hours) {\n\treturn hours <= 12 ? (hours === 0 ? 12 : hours) : hours - 12\n}\n","module.exports = function convert_number(number) {\n\treturn isNaN(number) ? number : parseInt(number)\n}\n","var convert_number = require('./convert_number')\nvar convert_hours_to_12hr_time = require('./convert_hours_to_12hr_time')\nvar leading_zero = require('./leading_zero')\n\nmodule.exports = function convert_to_12hr_time(timeString_24hr) {\n\tif (timeString_24hr === '') return '--:-- --'\n\tvar twentyFour_regex = /([0-9]{2})\\:([0-9]{2})/\n\tvar result = twentyFour_regex.exec(timeString_24hr)\n\tvar hrs_24 = convert_number(result[1])\n\tvar min = result[2]\n\tvar hrs_12 = convert_hours_to_12hr_time(hrs_24)\n\tvar isPM = hrs_24 > 12\n\tvar mode = isPM ? 'PM' : 'AM'\n\treturn [leading_zero(hrs_12), ':', min, ' ', mode].join('')\n}\n","var leading_zero = require('./leading_zero')\n\nmodule.exports = function convert_to_24hr_time(timeString_12hr) {\n\tif (/-/.test(timeString_12hr)) return ''\n\tvar isPM = timeString_12hr.indexOf('PM') > -1\n\tvar timeResult = /^([0-9]{2})/.exec(timeString_12hr)\n\tvar hrs = timeResult ? parseInt(timeResult[1]) : ''\n\tvar newHrs\n\tif (hrs === 12) {\n\t\tnewHrs = isPM ? 12 : 0\n\t} else {\n\t\tnewHrs = isPM ? hrs + 12 : hrs\n\t}\n\tvar finalHrs = newHrs === 24 ? 0 : newHrs\n\tvar timeRegEx = /^[0-9]{2}:([0-9]{2}) (AM|PM)/\n\treturn timeString_12hr.replace(timeRegEx, leading_zero(finalHrs) + ':$1')\n}\n","module.exports = function leading_zero(number) {\n\tif (isNaN(number)) return number\n\tvar purified = parseInt(number)\n\treturn purified < 10 ? '0' + purified : number\n}\n","var values = require('../helpers/values')\n\nvar select_segment = require('../selectors/select_segment')\n\nvar next_segment = require('../selectors/next_segment')\nvar prev_segment = require('../selectors/prev_segment')\nvar select_cursor_segment = require('../selectors/select_cursor_segment')\n\nvar get_current_segment = require('../getters/get_current_segment')\n\nvar reset = require('../setters/reset')\nvar manual_number_entry = require('../setters/manual_number_entry')\nvar clear_segment = require('../setters/clear_segment')\nvar increment_current_segment = require('../setters/increment_current_segment')\nvar decrement_current_segment = require('../setters/decrement_current_segment')\nvar set_mode = require('../setters/set_mode')\nvar switch_times = require('../setters/switch_times')\n\nvar handle_tab = require('../events/handle_tab')\n\nvar all_number_keys = require('../static-values/all_number_keys')\nvar named_keys = require('../static-values/named_keys')\n\nvar update_a11y = require('../accessibility/update_a11y')\n\nmodule.exports = function bind_events($input) {\n\tvar prev_value = ''\n\n\tvar shiftKey = false\n\n\tdocument.addEventListener('keydown', function(e) {\n\t\tshiftKey = e.shiftKey\n\t})\n\tdocument.addEventListener('keyup', function(e) {\n\t\tshiftKey = e.shiftKey\n\t})\n\n\tif ($input.form) {\n\t\t$input.form.addEventListener('submit', function() {\n\t\t\tauto_swap($input)\n\t\t})\n\t}\n\n\tvar focused_via_click = false\n\n\t$input.addEventListener('mousedown', function() {\n\t\tfocused_via_click = true\n\t})\n\n\t// Turns the IE clear button into a reset button\n\t$input.addEventListener('mouseup', function() {\n\t\tsetTimeout(function() {\n\t\t\tif ($input.value === '') reset($input)\n\t\t}, 1)\n\t})\n\n\t$input.addEventListener('click', function(e) {\n\t\tselect_cursor_segment($input)\n\t})\n\n\t$input.addEventListener('blur', function() {\n\t\tvar current_value = $input.dataset.value\n\t\tif (current_value !== prev_value) {\n\t\t\tprev_value = current_value\n\t\t}\n\t\tfocused_via_click = false\n\t})\n\n\t$input.addEventListener('focus', function(e) {\n\t\tif (!focused_via_click) {\n\t\t\te.preventDefault()\n\t\t\tvar segment = shiftKey ? 'mode' : 'hrs'\n\t\t\tselect_segment($input, segment)\n\t\t}\n\t\tupdate_a11y($input, ['initial', 'select'])\n\t})\n\n\t$input.addEventListener('keydown', function(e) {\n\t\tvar is_enter_key = e.which === 13\n\t\tif (is_enter_key) return true\n\n\t\tvar is_number_key = all_number_keys.indexOf(e.which) > -1\n\t\tvar is_named_key = values(named_keys).indexOf(e.which) > -1\n\t\tvar is_arrow_key =\n\t\t\t[\n\t\t\t\tnamed_keys.ArrowDown,\n\t\t\t\tnamed_keys.ArrowRight,\n\t\t\t\tnamed_keys.ArrowUp,\n\t\t\t\tnamed_keys.ArrowLeft,\n\t\t\t].indexOf(e.which) > -1\n\t\tvar is_mode_key = [named_keys.a, named_keys.p].indexOf(e.which) > -1\n\t\tvar is_delete_key =\n\t\t\t[named_keys.Delete, named_keys.Backspace].indexOf(e.which) > -1\n\n\t\tif (\n\t\t\t!is_named_key ||\n\t\t\tis_arrow_key ||\n\t\t\tis_number_key ||\n\t\t\tis_mode_key ||\n\t\t\tis_delete_key\n\t\t) {\n\t\t\te.preventDefault()\n\t\t}\n\n\t\tif (is_number_key) {\n\t\t\tmanual_number_entry($input, e.which)\n\t\t}\n\n\t\tif (is_delete_key) {\n\t\t\tvar segment = get_current_segment($input)\n\t\t\tclear_segment($input, segment)\n\t\t}\n\n\t\tswitch (e.which) {\n\t\t\tcase named_keys.ArrowRight:\n\t\t\t\tnext_segment($input)\n\t\t\t\tbreak\n\t\t\tcase named_keys.ArrowLeft:\n\t\t\t\tprev_segment($input)\n\t\t\t\tbreak\n\t\t\tcase named_keys.ArrowUp:\n\t\t\t\tincrement_current_segment($input)\n\t\t\t\tbreak\n\t\t\tcase named_keys.ArrowDown:\n\t\t\t\tdecrement_current_segment($input)\n\t\t\t\tbreak\n\t\t\tcase named_keys.Escape:\n\t\t\t\treset($input)\n\t\t\t\tbreak\n\t\t\tcase named_keys.a:\n\t\t\t\tset_mode($input, 'AM')\n\t\t\t\tbreak\n\t\t\tcase named_keys.p:\n\t\t\t\tset_mode($input, 'PM')\n\t\t\t\tbreak\n\t\t\tcase named_keys.Tab:\n\t\t\t\thandle_tab($input, e)\n\t\t\t\tbreak\n\t\t}\n\t})\n}\n\nfunction auto_swap($input) {\n\tif ($input.polyfill.autoSwap) {\n\t\tswitch_times($input, 24)\n\t\tsetTimeout(function() {\n\t\t\tswitch_times($input, 12)\n\t\t}, 1)\n\t}\n}\n","module.exports = function create_event(eventName) {\n\tvar event = document.createEvent('Event')\n\tevent.initEvent(eventName, true, true)\n\treturn event\n}\n","var get_current_segment = require('../getters/get_current_segment')\nvar prev_segment = require('../selectors/prev_segment')\nvar next_segment = require('../selectors/next_segment')\n\nmodule.exports = function handle_tab($input, e) {\n\tvar current_segment = get_current_segment($input)\n\tvar backwards_and_first = e.shiftKey && current_segment === 'hrs'\n\tvar forwards_and_last = !e.shiftKey && current_segment === 'mode'\n\n\tif (!backwards_and_first && !forwards_and_last) {\n\t\te.preventDefault()\n\t\tif (e.shiftKey) {\n\t\t\tprev_segment($input)\n\t\t} else {\n\t\t\tnext_segment($input)\n\t\t}\n\t}\n}\n","var trigger_event = require('./trigger_event')\n\n// It seems that oninput and onchange are treated the same way by browsers :/\nmodule.exports = function trigger_both_events($input) {\n\t// the event only ever fires if there is a full valid value available\n\ttrigger_event($input, 'input')\n\ttrigger_event($input, 'change')\n}\n","var create_event = require('./create_event')\n\nvar inputEvent = create_event('input')\nvar changeEvent = create_event('change')\n\nmodule.exports = function trigger_event($input, eventName) {\n\tvar event = {\n\t\tinput: inputEvent,\n\t\tchange: changeEvent,\n\t}[eventName]\n\n\tif (can_trigger_change($input)) {\n\t\t$input.dispatchEvent(event)\n\t}\n}\n\n// Browsers only send out input and change events if the time element has a full valid value\nfunction can_trigger_change($input) {\n\treturn !/--/.test($input.value)\n}\n","// selector is optional, it allows for an early exit\nmodule.exports = function($input, selectorString) {\n\tvar $elem = $input\n\n\t// https://stackoverflow.com/a/8729274/1611058\n\tvar ancestors = []\n\twhile ($elem) {\n\t\tancestors.push($elem)\n\t\tvar matchesSelector = $elem.msMatchesSelector\n\t\t\t? $elem.msMatchesSelector(selectorString)\n\t\t\t: $elem.matches(selectorString)\n\t\tif (matchesSelector) {\n\t\t\treturn ancestors\n\t\t}\n\t\t$elem = $elem.parentElement\n\t}\n\n\treturn ancestors\n}\n","var ranges = require('../static-values/ranges')\nvar get_selected_range = require('./get_selected_range')\n\nmodule.exports = function get_current_segment($input) {\n\tvar selection = get_selected_range($input)\n\tfor (var segment in ranges) {\n\t\tvar range = ranges[segment]\n\t\tvar aboveMin = range.start <= selection.start\n\t\tvar belowMax = range.end >= selection.end\n\t\tif (aboveMin && belowMax) {\n\t\t\treturn segment\n\t\t}\n\t}\n\treturn 'hrs'\n}\n","var get_ancestors = require('./get_ancestors')\n\nmodule.exports = function get_label($input) {\n\tvar labelText =\n\t\taria_labelledby($input) ||\n\t\taria_label($input) ||\n\t\tfor_attribute($input) ||\n\t\tlabel_wrapper_element($input) ||\n\t\ttitle_attribute($input)\n\n\tif (labelText) return labelText\n\n\tconsole.error('Label text for input not found.', $input)\n\tthrow new Error('Cannot polyfill time input due to a missing label.')\n}\n\nfunction aria_labelledby($input) {\n\tvar ariaLabelByID = $input.getAttribute('aria-labelledby')\n\tif (ariaLabelByID) {\n\t\tvar $ariaLabelBy = document.getElementById(ariaLabelByID)\n\t\tif ($ariaLabelBy) return $ariaLabelBy.textContent\n\t}\n\treturn false\n}\n\nfunction aria_label($input) {\n\tvar ariaLabel = $input.getAttribute('aria-label')\n\tif (ariaLabel) return ariaLabel\n\treturn false\n}\n\nfunction for_attribute($input) {\n\tif ($input.id) {\n\t\tvar $forLabel = document.querySelector('label[for=\"' + $input.id + '\"]')\n\t\tif ($forLabel) return $forLabel.textContent\n\t}\n\treturn false\n}\n\nfunction label_wrapper_element($input) {\n\tvar ancestors = get_ancestors($input, 'label')\n\tvar $parentLabel = ancestors[ancestors.length - 1]\n\tif ($parentLabel.nodeName == 'LABEL') return $parentLabel.textContent\n\treturn false\n}\n\nfunction title_attribute($input) {\n\tvar titleLabel = $input.getAttribute('title')\n\tif (titleLabel) return titleLabel\n\treturn false\n}\n","module.exports = function get_selected_range($input) {\n\treturn { start: $input.selectionStart, end: $input.selectionEnd }\n}\n","var convert_number = require('../converters/convert_number')\n\nmodule.exports = function get_values($input, timeString) {\n\tvar value = timeString ? timeString : $input.value\n\tvar regEx = /([0-9-]{1,2})\\:([0-9-]{1,2})\\s?(AM|PM|\\-\\-)?/\n\tvar result = regEx.exec(value)\n\n\treturn {\n\t\thrs: convert_number(result[1]),\n\t\tmin: convert_number(result[2]),\n\t\tmode: result[3],\n\t}\n}\n","var manual_entry_log = []\n\nfunction clear() {\n\tmanual_entry_log = []\n}\n\nfunction add(entry) {\n\tmanual_entry_log.push(entry)\n}\n\nfunction items() {\n\treturn manual_entry_log\n}\n\nmodule.exports = {\n\titems: items,\n\tclear: clear,\n\tadd: add,\n}\n","// IE11 doesn't support Object.values()\nmodule.exports = function values(obj) {\n\tvar key_values = []\n\tfor (var key in obj) {\n\t\tkey_values.push(obj[key])\n\t}\n\treturn key_values\n}\n","var traverse = require('./traverse')\n\nmodule.exports = function next_segment($input) {\n\ttraverse($input, 'next')\n}\n","var traverse = require('./traverse')\n\nmodule.exports = function prev_segment($input) {\n\ttraverse($input, 'prev')\n}\n","var get_current_segment = require('../getters/get_current_segment')\nvar select_segment = require('./select_segment')\n\nmodule.exports = function select_cursor_segment($input) {\n\tvar current_segment = get_current_segment($input)\n\tselect_segment($input, current_segment)\n}\n","module.exports = function select_segment($input, segment) {\n\tset_input_type()\n\n\tvar actions = {\n\t\thrs: select(0, 2),\n\t\tmin: select(3, 5),\n\t\tmode: select(6, 8),\n\t}\n\n\tactions[segment]($input)\n\n\tfunction set_input_type() {\n\t\tvar type = segment === 'mode' ? 'text' : 'tel'\n\t\t$input.setAttribute('type', type)\n\t}\n\n\tfunction select(start, end) {\n\t\treturn function() {\n\t\t\t$input.setSelectionRange(start, end)\n\t\t}\n\t}\n}\n","var get_current_segment = require('../getters/get_current_segment')\nvar select_segment = require('../selectors/select_segment')\n\nvar manual_entry_log = require('../helpers/manual_entry_log')\nvar segments = require('../static-values/segments')\n\nvar update_a11y = require('../accessibility/update_a11y')\n\nmodule.exports = function traverse($input, direction) {\n\tvar segment = get_current_segment($input)\n\n\tvar modifier = direction === 'next' ? 1 : -1\n\tvar next_segment_index = segments.indexOf(segment) + modifier\n\n\tvar next_segment = {\n\t\tnext: segments[next_segment_index] || 'mode',\n\t\tprev: next_segment_index < 0 ? 'hrs' : segments[next_segment_index],\n\t}[direction]\n\n\tselect_segment($input, next_segment)\n\tmanual_entry_log.clear()\n\tupdate_a11y($input, ['select'])\n}\n","// I need to keep this separate from reset so that\n// I can reset without attracting focus\n\nvar set_data_attribute = require('../setters/set_data_attribute')\nvar trigger_both_events = require('../events/trigger_both_events')\n\nmodule.exports = function apply_default($input) {\n\t$input.value = '--:-- --'\n\tset_data_attribute($input, '')\n\ttrigger_both_events($input)\n}\n","var set_segment = require('./set_segment')\nvar update_a11y = require('../accessibility/update_a11y')\n\nmodule.exports = function clear_segment($input, segment) {\n\tset_segment($input, segment, '--')\n\tupdate_a11y($input, ['update'])\n}\n","var switch_mode = require('./switch_mode')\nvar nudge_time_segment = require('./nudge_time_segment')\nvar update_a11y = require('../accessibility/update_a11y')\n\nmodule.exports = function decrement($input, segment) {\n\tif (segment === 'mode') {\n\t\tswitch_mode($input, 'PM')\n\t} else {\n\t\tnudge_time_segment($input, segment, 'down')\n\t}\n\tupdate_a11y($input, ['update'])\n}\n","var get_current_segment = require('../getters/get_current_segment')\nvar decrement = require('../setters/decrement')\n\nmodule.exports = function decrement_current_segment($input) {\n\tvar current_segment = get_current_segment($input)\n\tdecrement($input, current_segment)\n}\n","var switch_mode = require('./switch_mode')\nvar nudge_time_segment = require('./nudge_time_segment')\nvar update_a11y = require('../accessibility/update_a11y')\n\nmodule.exports = function increment($input, segment) {\n\tif (segment === 'mode') {\n\t\tswitch_mode($input, 'AM')\n\t} else {\n\t\tnudge_time_segment($input, segment, 'up')\n\t}\n\tupdate_a11y($input, ['update'])\n}\n","var get_current_segment = require('../getters/get_current_segment')\nvar increment = require('../setters/increment')\n\nmodule.exports = function increment_current_segment($input) {\n\tvar current_segment = get_current_segment($input)\n\tincrement($input, current_segment)\n}\n","var get_current_segment = require('../getters/get_current_segment')\nvar set_segment = require('./set_segment')\nvar next_segment = require('../selectors/next_segment')\n\nvar manual_entry_log = require('../helpers/manual_entry_log')\nvar sorted_number_keys = require('../static-values/sorted_number_keys')\n\nmodule.exports = function manual_number_entry($input, key) {\n\tvar key_value = sorted_number_keys[key]\n\tvar segment = get_current_segment($input)\n\n\tif (segment !== 'mode') {\n\t\tvar entry_count = manual_entry_log.items().length\n\n\t\tvar upper_limits = {\n\t\t\thrs: [1, 2],\n\t\t\tmin: [5, 9],\n\t\t}\n\t\tvar limit = upper_limits[segment][entry_count]\n\n\t\tif (entry_count < 2) {\n\t\t\tmanual_entry_log.add(key_value)\n\t\t}\n\n\t\tvar full_limit = parseInt(upper_limits[segment].join(''))\n\t\tvar full_entry = parseInt(manual_entry_log.items().join(''))\n\n\t\tif (full_limit >= full_entry) {\n\t\t\tset_segment($input, segment, full_entry)\n\t\t}\n\n\t\tvar at_limit =\n\t\t\tkey_value > limit || manual_entry_log.items().length === 2\n\n\t\tif (at_limit) {\n\t\t\tnext_segment($input)\n\t\t}\n\t}\n}\n","var get_values = require('../getters/get_values')\nvar convert_hours_to_12hr_time = require('../converters/convert_hours_to_12hr_time')\nvar leading_zero = require('../converters/leading_zero')\nvar set_segment = require('./set_segment')\n\nmodule.exports = function nudge_time_segment($input, segment, direction) {\n\tvar current_values = get_values($input)\n\tvar time\n\n\tvar modifier = direction === 'up' ? 1 : -1\n\n\tif (current_values[segment] === '--') {\n\t\tvar current_time = new Date()\n\t\ttime = {\n\t\t\thrs: convert_hours_to_12hr_time(current_time.getHours()),\n\t\t\tmin: current_time.getMinutes(),\n\t\t}\n\t} else {\n\t\tvar minutes = {\n\t\t\tup: current_values.min < 59 ? current_values.min + modifier : 0,\n\t\t\tdown: current_values.min === 0 ? 59 : current_values.min + modifier,\n\t\t}\n\t\ttime = {\n\t\t\thrs: convert_hours_to_12hr_time(current_values.hrs + modifier),\n\t\t\tmin: minutes[direction],\n\t\t}\n\t}\n\n\tset_segment($input, segment, leading_zero(time[segment]))\n}\n","var apply_default = require('./apply_default')\nvar select_segment = require('../selectors/select_segment')\n\nmodule.exports = function reset($input) {\n\tapply_default($input)\n\tselect_segment($input, 'hrs')\n}\n","var convert_to_24hr_time = require('../converters/convert_to_24hr_time')\n\nmodule.exports = function set_data_attribute($input, timeString_12hr) {\n\tvar filteredString =\n\t\ttimeString_12hr.indexOf('-') > -1 ? '' : timeString_12hr\n\tvar time24hr = convert_to_24hr_time(filteredString)\n\t$input.setAttribute('data-value', time24hr)\n}\n","var get_current_segment = require('../getters/get_current_segment')\nvar set_segment = require('./set_segment')\n\nmodule.exports = function set_mode($input, type) {\n\tvar segment = get_current_segment($input)\n\tif (segment === 'mode') {\n\t\tset_segment($input, segment, type)\n\t}\n}\n","var get_values = require('../getters/get_values')\nvar leading_zero = require('../converters/leading_zero')\nvar select_segment = require('../selectors/select_segment')\nvar set_data_attribute = require('./set_data_attribute')\nvar trigger_both_events = require('../events/trigger_both_events')\n\nmodule.exports = function set_segment($input, segment, value) {\n\tvar values = get_values($input)\n\tvalues[segment] = value\n\tvar newInputVal = [\n\t\tleading_zero(values.hrs),\n\t\t':',\n\t\tleading_zero(values.min),\n\t\t' ',\n\t\tvalues.mode,\n\t].join('')\n\t$input.value = newInputVal\n\tselect_segment($input, segment)\n\tset_data_attribute($input, newInputVal)\n\ttrigger_both_events($input)\n}\n","var convert_to_12hr_time = require('../converters/convert_to_12hr_time')\nvar set_data_attribute = require('../setters/set_data_attribute')\n\nmodule.exports = function set_time($input, time_string_24hr) {\n\tvar twelveHr = convert_to_12hr_time(time_string_24hr)\n\t$input.value = twelveHr\n\tset_data_attribute($input, time_string_24hr)\n}\n","var get_values = require('../getters/get_values')\nvar set_segment = require('./set_segment')\n\nmodule.exports = function switch_mode($input, default_mode) {\n\tdefault_mode = default_mode || 'AM'\n\tvar current_mode = get_values($input).mode\n\tvar new_mode = {\n\t\t'--': default_mode,\n\t\tAM: 'PM',\n\t\tPM: 'AM',\n\t}[current_mode]\n\tset_segment($input, 'mode', new_mode)\n}\n","var switch_to_data_value = require('./switch_to_data_value')\nvar set_time = require('./set_time')\n\nmodule.exports = function switch_times($input, format) {\n\tvar is12hr = /\\s/.test($input.value)\n\n\tif (format != 12 && format != 24) {\n\t\tformat = is12hr ? 24 : 12\n\t}\n\n\tvar actions = {\n\t\t12: function() {\n\t\t\tif (!is12hr) {\n\t\t\t\tset_time($input, $input.dataset.value)\n\t\t\t}\n\t\t},\n\t\t24: function() {\n\t\t\tif (is12hr) {\n\t\t\t\tswitch_to_data_value($input)\n\t\t\t}\n\t\t},\n\t}\n\tactions[format]()\n}\n","module.exports = function($input) {\n\tvar replacementVal = $input.dataset.value\n\t$input.value = replacementVal\n}\n","var set_time = require('../setters/set_time')\n\nmodule.exports = function update_time($input) {\n\tset_time($input, $input.value)\n\treturn $input\n}\n","var all_number_keys = [\n\t// 0,  1,  2,  3,  4,  5,  6,  7,  8,  9\n\t48,\n\t49,\n\t50,\n\t51,\n\t52,\n\t53,\n\t54,\n\t55,\n\t56,\n\t57,\n\t96,\n\t97,\n\t98,\n\t99,\n\t100,\n\t101,\n\t102,\n\t103,\n\t104,\n\t105,\n]\n\nmodule.exports = all_number_keys\n","var named_keys = {\n\tArrowDown: 40,\n\tArrowRight: 39,\n\tArrowUp: 38,\n\tArrowLeft: 37,\n\tBackspace: 8,\n\tDelete: 46,\n\tTab: 9,\n\tShift: 16,\n\tEscape: 27,\n\ta: 65,\n\tp: 80,\n}\n\nmodule.exports = named_keys\n","var ranges = {\n\thrs: { start: 0, end: 2 },\n\tmin: { start: 3, end: 5 },\n\tmode: { start: 6, end: 8 },\n}\n\nmodule.exports = ranges\n","var ranges = require('./ranges')\n\nvar segments = Object.keys(ranges)\n\nmodule.exports = segments\n","var all_number_keys = require('./all_number_keys')\n\nvar sorted_number_keys = {}\n// sorted_number_keys = { 48: 0, 49: 1, 96: 0, 97: 1, ... };\nall_number_keys.forEach(function(key, index) {\n\tvar number_val = index > 9 ? index - 10 : index\n\tsorted_number_keys[key] = number_val\n})\n\nmodule.exports = sorted_number_keys\n"]}