/*!
 * Time Input Polyfill
 * @version: 1.0.11
 * @author: Daniel Tonon
 * @license MIT: https://github.com/Dan503/time-input-polyfill/blob/master/LICENSE
 * Copyright (c) 2018 Daniel Tonon. All rights reserved.
 **/
var TimePolyfill_bundle = (function () {
	'use strict'
	function e(e) {
		if (isNaN(e)) return e
		var t = parseInt(e)
		return t < 10 ? '0' + t : e
	}
	function t(t, n) {
		var r = (function (t) {
			if (/-/.test(t)) return ''
			var n,
				r = t.indexOf('PM') > -1,
				i = /^([0-9]{2})/.exec(t),
				a = i ? parseInt(i[1]) : '',
				u =
					24 === (n = 12 === a ? (r ? 12 : 0) : r ? a + 12 : a)
						? 0
						: n
			return t.replace(/^[0-9]{2}:([0-9]{2}) (AM|PM)/, e(u) + ':$1')
		})(n.indexOf('-') > -1 ? '' : n)
		t.setAttribute('data-value', r)
	}
	function n(e) {
		var t = document.createEvent('Event')
		return t.initEvent(e, !0, !0), t
	}
	var r = n('input'),
		i = n('change')
	function a(e, t) {
		var n = { input: r, change: i }[t]
		;(function (e) {
			return !/--/.test(e.value)
		})(e) && e.dispatchEvent(n)
	}
	function u(e) {
		a(e, 'input'), a(e, 'change')
	}
	function o(e) {
		;(e.value = '--:-- --'), t(e, ''), u(e)
	}
	function c(e) {
		return isNaN(e) ? e : parseInt(e)
	}
	function f(e) {
		return e <= 12 ? (0 === e ? 12 : e) : e - 12
	}
	function s(n, r) {
		var i = (function (t) {
			if ('' === t) return '--:-- --'
			var n = /([0-9]{2})\:([0-9]{2})/.exec(t),
				r = c(n[1]),
				i = n[2],
				a = r >= 12 ? 'PM' : 'AM'
			return [e(f(r)), ':', i, ' ', a].join('')
		})(r)
		;(n.value = i), t(n, r)
	}
	function l(e) {
		return s(e, e.value), e
	}
	function d(e, t) {
		var n
		function r(t, n) {
			return function () {
				e.setSelectionRange(t, n)
			}
		}
		;(n = 'mode' === t ? 'text' : 'tel'),
			e.setAttribute('type', n),
			{ hrs: r(0, 2), min: r(3, 5), mode: r(6, 8) }[t](e)
	}
	var v = {
		hrs: { start: 0, end: 2 },
		min: { start: 3, end: 5 },
		mode: { start: 6, end: 8 },
	}
	function p(e) {
		var t = (function (e) {
			return { start: e.selectionStart, end: e.selectionEnd }
		})(e)
		for (var n in v) {
			var r = v[n],
				i = r.start <= t.start,
				a = r.end >= t.end
			if (i && a) return n
		}
		return 'hrs'
	}
	var m = []
	var h = {
			items: function () {
				return m
			},
			clear: function () {
				m = []
			},
			add: function (e) {
				m.push(e)
			},
		},
		w = Object.keys(v)
	function b(e, t) {
		var n = t || e.value,
			r = /([0-9-]{1,2})\:([0-9-]{1,2})\s?(AM|PM|\-\-)?/.exec(n)
		return { hrs: c(r[1]), min: c(r[2]), mode: r[3] }
	}
	function A(e, t) {
		setTimeout(function () {
			var n = p(e),
				r = b(e)[n],
				i = '--' == r ? 'blank' : r,
				a = { hrs: 'Hours', min: 'Minutes', mode: 'AM/PM' }[n],
				u = {
					initial: '$label grouping $fullValue.',
					select: '$segmentName spin button $segmentValue.',
					update: '$segmentValue.',
				},
				o = t.map(function (e) {
					return u[e] ? u[e] : e
				}),
				c = e.value.replace(/--/g, 'blank'),
				f = '<p>' + o.join('</p><p>') + '</p>'
			;(f = (f = (f = (f = f.replace(
				/\$label/g,
				e.polyfill.label
			)).replace(/\$segmentName/g, a)).replace(
				/\$segmentValue/g,
				i
			)).replace(/\$fullValue/g, c)),
				(e.polyfill.$a11y.innerHTML = f)
		}, 1)
	}
	function g(e, t) {
		var n = p(e),
			r = 'next' === t ? 1 : -1,
			i = w.indexOf(n) + r
		d(e, { next: w[i] || 'mode', prev: i < 0 ? 'hrs' : w[i] }[t]),
			h.clear(),
			A(e, ['select'])
	}
	function y(e) {
		g(e, 'next')
	}
	function M(e) {
		g(e, 'prev')
	}
	function E(e) {
		o(e), d(e, 'hrs')
	}
	function x(n, r, i) {
		var a = b(n)
		a[r] = i
		var o = [e(a.hrs), ':', e(a.min), ' ', a.mode].join('')
		;(n.value = o), d(n, r), t(n, o), u(n)
	}
	var k = [
			48,
			49,
			50,
			51,
			52,
			53,
			54,
			55,
			56,
			57,
			96,
			97,
			98,
			99,
			100,
			101,
			102,
			103,
			104,
			105,
		],
		L = {}
	function $(e, t) {
		x(e, 'mode', { '--': (t = t || 'AM'), AM: 'PM', PM: 'AM' }[b(e).mode])
	}
	function P(t, n, r) {
		var i,
			a = b(t),
			u = 'up' === r ? 1 : -1
		if ('--' === a[n]) {
			var o = new Date()
			i = { hrs: f(o.getHours()), min: o.getMinutes() }
		} else {
			var c = {
				up: a.min < 59 ? a.min + u : 0,
				down: 0 === a.min ? 59 : a.min + u,
			}
			i = { hrs: f(a.hrs + u), min: c[r] }
		}
		x(t, n, e(i[n]))
	}
	function D(e) {
		!(function (e, t) {
			'mode' === t ? $(e, 'AM') : P(e, t, 'up'), A(e, ['update'])
		})(e, p(e))
	}
	function O(e) {
		!(function (e, t) {
			'mode' === t ? $(e, 'PM') : P(e, t, 'down'), A(e, ['update'])
		})(e, p(e))
	}
	function S(e, t) {
		var n = p(e)
		'mode' === n && x(e, n, t)
	}
	k.forEach(function (e, t) {
		var n = t > 9 ? t - 10 : t
		L[e] = n
	})
	function T(e, t) {
		var n = /\s/.test(e.value)
		12 != t && 24 != t && (t = n ? 24 : 12),
			{
				12: function () {
					n || s(e, e.dataset.value)
				},
				24: function () {
					n &&
						(function (e) {
							var t = e.dataset.value
							e.value = t
						})(e)
				},
			}[t]()
	}
	var N = {
		ArrowDown: 40,
		ArrowRight: 39,
		ArrowUp: 38,
		ArrowLeft: 37,
		Backspace: 8,
		Delete: 46,
		Tab: 9,
		Shift: 16,
		Escape: 27,
		a: 65,
		p: 80,
	}
	function j(e) {
		var t = !1
		document.addEventListener('keydown', function (e) {
			t = e.shiftKey
		}),
			document.addEventListener('keyup', function (e) {
				t = e.shiftKey
			}),
			e.form &&
				e.form.addEventListener('submit', function () {
					!(function (e) {
						e.polyfill.autoSwap &&
							(T(e, 24),
							setTimeout(function () {
								T(e, 12)
							}, 1))
					})(e)
				})
		var n = !1
		e.addEventListener('mousedown', function () {
			n = !0
		}),
			e.addEventListener('mouseup', function () {
				setTimeout(function () {
					'' === e.value && E(e)
				}, 1)
			}),
			e.addEventListener('click', function (t) {
				!(function (e) {
					d(e, p(e))
				})(e)
			}),
			e.addEventListener('blur', function () {
				n = !1
			}),
			e.addEventListener('focus', function (r) {
				n || (r.preventDefault(), d(e, t ? 'mode' : 'hrs'))
				A(e, ['initial', 'select'])
			}),
			e.addEventListener('keydown', function (t) {
				if (13 === t.which) return !0
				var n = k.indexOf(t.which) > -1,
					r =
						(function (e) {
							var t = []
							for (var n in e) t.push(e[n])
							return t
						})(N).indexOf(t.which) > -1,
					i =
						[
							N.ArrowDown,
							N.ArrowRight,
							N.ArrowUp,
							N.ArrowLeft,
						].indexOf(t.which) > -1,
					a = [N.a, N.p].indexOf(t.which) > -1,
					u = [N.Delete, N.Backspace].indexOf(t.which) > -1
				if (
					((!r || i || n || a || u) && t.preventDefault(),
					n &&
						(function (e, t) {
							var n = L[t],
								r = p(e)
							if ('mode' !== r) {
								var i = h.items().length,
									a = { hrs: [1, 2], min: [5, 9] },
									u = a[r][i]
								i < 2 && h.add(n)
								var o = parseInt(a[r].join('')),
									c = parseInt(h.items().join(''))
								o >= c && x(e, r, c),
									(n > u || 2 === h.items().length) && y(e)
							}
						})(e, t.which),
					u)
				) {
					var o = p(e)
					!(function (e, t) {
						x(e, t, '--'), A(e, ['update'])
					})(e, o)
				}
				switch (t.which) {
					case N.ArrowRight:
						y(e)
						break
					case N.ArrowLeft:
						M(e)
						break
					case N.ArrowUp:
						D(e)
						break
					case N.ArrowDown:
						O(e)
						break
					case N.Escape:
						E(e)
						break
					case N.a:
						S(e, 'AM')
						break
					case N.p:
						S(e, 'PM')
						break
					case N.Tab:
						!(function (e, t) {
							var n = p(e),
								r = t.shiftKey && 'hrs' === n,
								i = !t.shiftKey && 'mode' === n
							r ||
								i ||
								(t.preventDefault(), t.shiftKey ? M(e) : y(e))
						})(e, t)
				}
			})
	}
	function C(e) {
		var t =
			(function (e) {
				var t = e.getAttribute('aria-labelledby')
				if (t) {
					var n = document.getElementById(t)
					if (n) return n.textContent
				}
				return !1
			})(e) ||
			(function (e) {
				var t = e.getAttribute('aria-label')
				return t || !1
			})(e) ||
			(function (e) {
				if (e.id) {
					var t = document.querySelector('label[for="' + e.id + '"]')
					if (t) return t.textContent
				}
				return !1
			})(e) ||
			(function (e) {
				var t = (function (e, t) {
						for (var n = e, r = []; n; ) {
							if (
								(r.push(n),
								n.msMatchesSelector
									? n.msMatchesSelector(t)
									: n.matches(t))
							)
								return r
							n = n.parentElement
						}
						return r
					})(e, 'label'),
					n = t[t.length - 1]
				return 'LABEL' == n.nodeName && n.textContent
			})(e) ||
			(function (e) {
				var t = e.getAttribute('title')
				return t || !1
			})(e)
		if (t) return t
		throw (
			(console.error('Label text for input not found.', e),
			new Error('Cannot polyfill time input due to a missing label.'))
		)
	}
	var I,
		K = !1
	function V(e, n) {
		var r
		e.setAttribute('autocomplete', 'off'),
			e.setAttribute('aria-hidden', !0),
			K ||
				((r = document.createElement('div')).setAttribute(
					'aria-live',
					'assertive'
				),
				r.setAttribute(
					'style',
					'position: absolute; opacity: 0; height: 0; width: 0; overflow: hidden; pointer-events: none;'
				),
				r.classList.add('time-input-polyfill-accessibility-block'),
				document.querySelector('body').appendChild(r),
				(I = r),
				(K = !0))
		var i = n ? n.textContent : C(e)
		;(e.polyfill = {
			$a11y: I,
			label: i,
			autoSwap: !0,
			update: function () {
				l(e)
			},
			swap: function (t) {
				T(e, t)
			},
		}),
			'' === e.value || /--/.test(e.value)
				? (o(e), t(e, ''))
				: (l(e), t(e, e.value)),
			j(e)
	}
	return window && (window.TimePolyfill = V), V
})()
//# sourceMappingURL=time-input-polyfill.min.js.map
