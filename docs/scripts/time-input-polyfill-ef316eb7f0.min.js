
/*!
 * Time Input Polyfill
 * @version: 1.0.8
 * @author: Daniel Tonon
 * @license MIT: https://github.com/Dan503/time-input-polyfill/blob/master/LICENSE
 * Copyright (c) 2018 Daniel Tonon. All rights reserved.
 **/
!function e(t,r,n){function s(o,i){if(!r[o]){if(!t[o]){var c="function"==typeof require&&require;if(!i&&c)return c(o,!0);if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var _=r[o]={exports:{}};t[o][0].call(_.exports,(function(e){return s(t[o][1][e]||e)}),_,_.exports,e,t,r,n)}return r[o].exports}for(var a="function"==typeof require&&require,o=0;o<n.length;o++)s(n[o]);return s}({1:[function(e,t,r){t.exports=function(){var e=document.createElement("div");return e.setAttribute("aria-live","assertive"),e.setAttribute("style","position: absolute; opacity: 0; height: 0; width: 0; overflow: hidden; pointer-events: none;"),e.classList.add("time-input-polyfill-accessibility-block"),document.querySelector("body").appendChild(e),e}},{}],2:[function(e,t,r){var n=e("../getters/get_current_segment"),s=e("../getters/get_values");t.exports=function(e,t){setTimeout((function(){var r=n(e),a=s(e)[r],o="--"==a?"blank":a,i={hrs:"Hours",min:"Minutes",mode:"AM/PM"}[r],c={initial:"$label grouping $fullValue.",select:"$segmentName spin button $segmentValue.",update:"$segmentValue."},u=t.map((function(e){return c[e]?c[e]:e})),_=e.value.replace(/--/g,"blank"),l="<p>"+u.join("</p><p>")+"</p>";l=(l=(l=(l=l.replace(/\$label/g,e.polyfill.label)).replace(/\$segmentName/g,i)).replace(/\$segmentValue/g,o)).replace(/\$fullValue/g,_),e.polyfill.$a11y.innerHTML=l}),1)}},{"../getters/get_current_segment":14,"../getters/get_values":17}],3:[function(e,t,r){t.exports=function(e){return e<=12?0===e?12:e:e-12}},{}],4:[function(e,t,r){t.exports=function(e){return isNaN(e)?e:parseInt(e)}},{}],5:[function(e,t,r){var n=e("./convert_number"),s=e("./convert_hours_to_12hr_time"),a=e("./leading_zero");t.exports=function(e){if(""===e)return"--:-- --";var t=/([0-9]{2})\:([0-9]{2})/.exec(e),r=n(t[1]),o=t[2],i=s(r),c=r>12?"PM":"AM";return[a(i),":",o," ",c].join("")}},{"./convert_hours_to_12hr_time":3,"./convert_number":4,"./leading_zero":7}],6:[function(e,t,r){var n=e("./leading_zero");t.exports=function(e){if(/-/.test(e))return"";var t,r=e.indexOf("PM")>-1,s=/^([0-9]{2})/.exec(e),a=s?parseInt(s[1]):"",o=24===(t=12===a?r?12:0:r?a+12:a)?0:t;return e.replace(/^[0-9]{2}:([0-9]{2}) (AM|PM)/,n(o)+":$1")}},{"./leading_zero":7}],7:[function(e,t,r){t.exports=function(e){if(isNaN(e))return e;var t=parseInt(e);return t<10?"0"+t:e}},{}],8:[function(e,t,r){var n=e("../helpers/values"),s=e("../selectors/select_segment"),a=e("../selectors/next_segment"),o=e("../selectors/prev_segment"),i=e("../selectors/select_cursor_segment"),c=e("../getters/get_current_segment"),u=e("../setters/reset"),_=e("../setters/manual_number_entry"),l=e("../setters/clear_segment"),v=e("../setters/increment_current_segment"),f=e("../setters/decrement_current_segment"),g=e("../setters/set_mode"),m=e("../setters/switch_times"),d=e("../events/handle_tab"),p=e("../static-values/all_number_keys"),h=e("../static-values/named_keys"),b=e("../accessibility/update_a11y");t.exports=function(e){var t="",r=!1;document.addEventListener("keydown",(function(e){r=e.shiftKey})),document.addEventListener("keyup",(function(e){r=e.shiftKey})),e.form&&e.form.addEventListener("submit",(function(){!function(e){e.polyfill.autoSwap&&(m(e,24),setTimeout((function(){m(e,12)}),1))}(e)}));var x=!1;e.addEventListener("mousedown",(function(){x=!0})),e.addEventListener("mouseup",(function(){setTimeout((function(){""===e.value&&u(e)}),1)})),e.addEventListener("click",(function(t){i(e)})),e.addEventListener("blur",(function(){var r=e.dataset.value;r!==t&&(t=r),x=!1})),e.addEventListener("focus",(function(t){x||(t.preventDefault(),s(e,r?"mode":"hrs"));b(e,["initial","select"])})),e.addEventListener("keydown",(function(t){if(13===t.which)return!0;var r=p.indexOf(t.which)>-1,s=n(h).indexOf(t.which)>-1,i=[h.ArrowDown,h.ArrowRight,h.ArrowUp,h.ArrowLeft].indexOf(t.which)>-1,m=[h.a,h.p].indexOf(t.which)>-1,b=[h.Delete,h.Backspace].indexOf(t.which)>-1;if((!s||i||r||m||b)&&t.preventDefault(),r&&_(e,t.which),b){var x=c(e);l(e,x)}switch(t.which){case h.ArrowRight:a(e);break;case h.ArrowLeft:o(e);break;case h.ArrowUp:v(e);break;case h.ArrowDown:f(e);break;case h.Escape:u(e);break;case h.a:g(e,"AM");break;case h.p:g(e,"PM");break;case h.Tab:d(e,t)}}))}},{"../accessibility/update_a11y":2,"../events/handle_tab":10,"../getters/get_current_segment":14,"../helpers/values":19,"../selectors/next_segment":20,"../selectors/prev_segment":21,"../selectors/select_cursor_segment":22,"../selectors/select_segment":23,"../setters/clear_segment":26,"../setters/decrement_current_segment":28,"../setters/increment_current_segment":30,"../setters/manual_number_entry":31,"../setters/reset":33,"../setters/set_mode":35,"../setters/switch_times":39,"../static-values/all_number_keys":42,"../static-values/named_keys":43}],9:[function(e,t,r){t.exports=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}},{}],10:[function(e,t,r){var n=e("../getters/get_current_segment"),s=e("../selectors/prev_segment"),a=e("../selectors/next_segment");t.exports=function(e,t){var r=n(e),o=t.shiftKey&&"hrs"===r,i=!t.shiftKey&&"mode"===r;o||i||(t.preventDefault(),t.shiftKey?s(e):a(e))}},{"../getters/get_current_segment":14,"../selectors/next_segment":20,"../selectors/prev_segment":21}],11:[function(e,t,r){var n=e("./trigger_event");t.exports=function(e){n(e,"input"),n(e,"change")}},{"./trigger_event":12}],12:[function(e,t,r){var n=e("./create_event"),s=n("input"),a=n("change");t.exports=function(e,t){var r={input:s,change:a}[t];(function(e){return!/--/.test(e.value)})(e)&&e.dispatchEvent(r)}},{"./create_event":9}],13:[function(e,t,r){t.exports=function(e,t){for(var r=e,n=[];r;){if(n.push(r),r.msMatchesSelector?r.msMatchesSelector(t):r.matches(t))return n;r=r.parentElement}return n}},{}],14:[function(e,t,r){var n=e("../static-values/ranges"),s=e("./get_selected_range");t.exports=function(e){var t=s(e);for(var r in n){var a=n[r],o=a.start<=t.start,i=a.end>=t.end;if(o&&i)return r}return"hrs"}},{"../static-values/ranges":44,"./get_selected_range":16}],15:[function(e,t,r){var n=e("./get_ancestors");t.exports=function(e){var t=function(e){var t=e.getAttribute("aria-labelledby");if(t){var r=document.getElementById(t);if(r)return r.textContent}return!1}(e)||function(e){var t=e.getAttribute("aria-label");return t||!1}(e)||function(e){if(e.id){var t=document.querySelector('label[for="'+e.id+'"]');if(t)return t.textContent}return!1}(e)||function(e){var t=n(e,"label"),r=t[t.length-1];return"LABEL"==r.nodeName&&r.textContent}(e)||function(e){var t=e.getAttribute("title");return t||!1}(e);if(t)return t;throw console.error("Label text for input not found.",e),new Error("Cannot polyfill time input due to a missing label.")}},{"./get_ancestors":13}],16:[function(e,t,r){t.exports=function(e){return{start:e.selectionStart,end:e.selectionEnd}}},{}],17:[function(e,t,r){var n=e("../converters/convert_number");t.exports=function(e,t){var r=t||e.value,s=/([0-9-]{1,2})\:([0-9-]{1,2})\s?(AM|PM|\-\-)?/.exec(r);return{hrs:n(s[1]),min:n(s[2]),mode:s[3]}}},{"../converters/convert_number":4}],18:[function(e,t,r){var n=[];t.exports={items:function(){return n},clear:function(){n=[]},add:function(e){n.push(e)}}},{}],19:[function(e,t,r){t.exports=function(e){var t=[];for(var r in e)t.push(e[r]);return t}},{}],20:[function(e,t,r){var n=e("./traverse");t.exports=function(e){n(e,"next")}},{"./traverse":24}],21:[function(e,t,r){var n=e("./traverse");t.exports=function(e){n(e,"prev")}},{"./traverse":24}],22:[function(e,t,r){var n=e("../getters/get_current_segment"),s=e("./select_segment");t.exports=function(e){var t=n(e);s(e,t)}},{"../getters/get_current_segment":14,"./select_segment":23}],23:[function(e,t,r){t.exports=function(e,t){var r;function n(t,r){return function(){e.setSelectionRange(t,r)}}r="mode"===t?"text":"tel",e.setAttribute("type",r),{hrs:n(0,2),min:n(3,5),mode:n(6,8)}[t](e)}},{}],24:[function(e,t,r){var n=e("../getters/get_current_segment"),s=e("../selectors/select_segment"),a=e("../helpers/manual_entry_log"),o=e("../static-values/segments"),i=e("../accessibility/update_a11y");t.exports=function(e,t){var r=n(e),c="next"===t?1:-1,u=o.indexOf(r)+c,_={next:o[u]||"mode",prev:u<0?"hrs":o[u]}[t];s(e,_),a.clear(),i(e,["select"])}},{"../accessibility/update_a11y":2,"../getters/get_current_segment":14,"../helpers/manual_entry_log":18,"../selectors/select_segment":23,"../static-values/segments":45}],25:[function(e,t,r){var n=e("../setters/set_data_attribute"),s=e("../events/trigger_both_events");t.exports=function(e){e.value="--:-- --",n(e,""),s(e)}},{"../events/trigger_both_events":11,"../setters/set_data_attribute":34}],26:[function(e,t,r){var n=e("./set_segment"),s=e("../accessibility/update_a11y");t.exports=function(e,t){n(e,t,"--"),s(e,["update"])}},{"../accessibility/update_a11y":2,"./set_segment":36}],27:[function(e,t,r){var n=e("./switch_mode"),s=e("./nudge_time_segment"),a=e("../accessibility/update_a11y");t.exports=function(e,t){"mode"===t?n(e,"PM"):s(e,t,"down"),a(e,["update"])}},{"../accessibility/update_a11y":2,"./nudge_time_segment":32,"./switch_mode":38}],28:[function(e,t,r){var n=e("../getters/get_current_segment"),s=e("../setters/decrement");t.exports=function(e){var t=n(e);s(e,t)}},{"../getters/get_current_segment":14,"../setters/decrement":27}],29:[function(e,t,r){var n=e("./switch_mode"),s=e("./nudge_time_segment"),a=e("../accessibility/update_a11y");t.exports=function(e,t){"mode"===t?n(e,"AM"):s(e,t,"up"),a(e,["update"])}},{"../accessibility/update_a11y":2,"./nudge_time_segment":32,"./switch_mode":38}],30:[function(e,t,r){var n=e("../getters/get_current_segment"),s=e("../setters/increment");t.exports=function(e){var t=n(e);s(e,t)}},{"../getters/get_current_segment":14,"../setters/increment":29}],31:[function(e,t,r){var n=e("../getters/get_current_segment"),s=e("./set_segment"),a=e("../selectors/next_segment"),o=e("../helpers/manual_entry_log"),i=e("../static-values/sorted_number_keys");t.exports=function(e,t){var r=i[t],c=n(e);if("mode"!==c){var u=o.items().length,_={hrs:[1,2],min:[5,9]},l=_[c][u];u<2&&o.add(r);var v=parseInt(_[c].join("")),f=parseInt(o.items().join(""));v>=f&&s(e,c,f),(r>l||2===o.items().length)&&a(e)}}},{"../getters/get_current_segment":14,"../helpers/manual_entry_log":18,"../selectors/next_segment":20,"../static-values/sorted_number_keys":46,"./set_segment":36}],32:[function(e,t,r){var n=e("../getters/get_values"),s=e("../converters/convert_hours_to_12hr_time"),a=e("../converters/leading_zero"),o=e("./set_segment");t.exports=function(e,t,r){var i,c=n(e),u="up"===r?1:-1;if("--"===c[t]){var _=new Date;i={hrs:s(_.getHours()),min:_.getMinutes()}}else{var l={up:c.min<59?c.min+u:0,down:0===c.min?59:c.min+u};i={hrs:s(c.hrs+u),min:l[r]}}o(e,t,a(i[t]))}},{"../converters/convert_hours_to_12hr_time":3,"../converters/leading_zero":7,"../getters/get_values":17,"./set_segment":36}],33:[function(e,t,r){var n=e("./apply_default"),s=e("../selectors/select_segment");t.exports=function(e){n(e),s(e,"hrs")}},{"../selectors/select_segment":23,"./apply_default":25}],34:[function(e,t,r){var n=e("../converters/convert_to_24hr_time");t.exports=function(e,t){var r=t.indexOf("-")>-1?"":t,s=n(r);e.setAttribute("data-value",s)}},{"../converters/convert_to_24hr_time":6}],35:[function(e,t,r){var n=e("../getters/get_current_segment"),s=e("./set_segment");t.exports=function(e,t){var r=n(e);"mode"===r&&s(e,r,t)}},{"../getters/get_current_segment":14,"./set_segment":36}],36:[function(e,t,r){var n=e("../getters/get_values"),s=e("../converters/leading_zero"),a=e("../selectors/select_segment"),o=e("./set_data_attribute"),i=e("../events/trigger_both_events");t.exports=function(e,t,r){var c=n(e);c[t]=r;var u=[s(c.hrs),":",s(c.min)," ",c.mode].join("");e.value=u,a(e,t),o(e,u),i(e)}},{"../converters/leading_zero":7,"../events/trigger_both_events":11,"../getters/get_values":17,"../selectors/select_segment":23,"./set_data_attribute":34}],37:[function(e,t,r){var n=e("../converters/convert_to_12hr_time"),s=e("../setters/set_data_attribute");t.exports=function(e,t){var r=n(t);e.value=r,s(e,t)}},{"../converters/convert_to_12hr_time":5,"../setters/set_data_attribute":34}],38:[function(e,t,r){var n=e("../getters/get_values"),s=e("./set_segment");t.exports=function(e,t){t=t||"AM";var r=n(e).mode;s(e,"mode",{"--":t,AM:"PM",PM:"AM"}[r])}},{"../getters/get_values":17,"./set_segment":36}],39:[function(e,t,r){var n=e("./switch_to_data_value"),s=e("./set_time");t.exports=function(e,t){var r=/\s/.test(e.value);12!=t&&24!=t&&(t=r?24:12),{12:function(){r||s(e,e.dataset.value)},24:function(){r&&n(e)}}[t]()}},{"./set_time":37,"./switch_to_data_value":40}],40:[function(e,t,r){t.exports=function(e){var t=e.dataset.value;e.value=t}},{}],41:[function(e,t,r){var n=e("../setters/set_time");t.exports=function(e){return n(e,e.value),e}},{"../setters/set_time":37}],42:[function(e,t,r){t.exports=[48,49,50,51,52,53,54,55,56,57,96,97,98,99,100,101,102,103,104,105]},{}],43:[function(e,t,r){t.exports={ArrowDown:40,ArrowRight:39,ArrowUp:38,ArrowLeft:37,Backspace:8,Delete:46,Tab:9,Shift:16,Escape:27,a:65,p:80}},{}],44:[function(e,t,r){t.exports={hrs:{start:0,end:2},min:{start:3,end:5},mode:{start:6,end:8}}},{}],45:[function(e,t,r){var n=e("./ranges"),s=Object.keys(n);t.exports=s},{"./ranges":44}],46:[function(e,t,r){var n=e("./all_number_keys"),s={};n.forEach((function(e,t){var r=t>9?t-10:t;s[e]=r})),t.exports=s},{"./all_number_keys":42}],47:[function(e,t,r){var n,s=e("./core/setters/apply_default"),a=e("./core/setters/update_time"),o=e("./core/setters/set_data_attribute"),i=e("./core/events/bind_events"),c=e("./core/setters/switch_times"),u=e("./core/getters/get_label"),_=e("./core/accessibility/create_a11y_block"),l=!1;function v(e){e.setAttribute("autocomplete","off"),e.setAttribute("aria-hidden",!0),l||(n=_(),l=!0);var t=u(e);e.polyfill={$a11y:n,label:t,autoSwap:!0,update:function(){a(e)},swap:function(t){c(e,t)}},""===e.value||/--/.test(e.value)?(s(e),o(e,"")):(a(e),o(e,e.value)),i(e)}window&&(window.TimePolyfill=v),t&&(t.exports=v)},{"./core/accessibility/create_a11y_block":1,"./core/events/bind_events":8,"./core/getters/get_label":15,"./core/setters/apply_default":25,"./core/setters/set_data_attribute":34,"./core/setters/switch_times":39,"./core/setters/update_time":41}]},{},[47]);
//# sourceMappingURL=time-input-polyfill.min.js.map
